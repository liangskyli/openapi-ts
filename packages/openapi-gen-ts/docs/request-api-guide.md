# 接口API使用指引

- 生成的schema-api/request-api.ts文件,可直接用于项目请求接口，无需手动编写代码。

## http 接口api数据TS类型声明
- 文件路径：schema-api/interface-api.ts
- 可在项目中用于接口入参和返回数据TS类型声明。
- url接口路径作为key
- Query：get参数
- Body：Post参数
- Response：接口返回数据
- 生成文件例子：
```ts
// This file is auto generated by openapi-gen-ts, do not edit!
import type { paths } from './ts-schema';

export interface IApi {
    '/v1/building/get-list': {
        Query: paths['/v1/building/get-list']['get']['parameters']['query'];
        Response: paths['/v1/building/get-list']['get']['responses']['200']['content']['application/json'];
    };
    '/v1/card/delete': {
        Body: paths['/v1/card/delete']['post']['requestBody']['content']['application/json'];
        Response: paths['/v1/card/delete']['post']['responses']['200']['content']['application/json'];
    };
}
```

## 生成的schema-api/request-api.ts文件
- 可直接用于项目请求接口，无需手动编写代码。
- 生成文件例子：
```ts
// This file is auto generated by openapi-gen-ts, do not edit!
import request from './request';
import type { IApi } from './interface-api';

type IConfig<T extends Record<any, any>, U extends Record<any, any>> = T & U;

export const requestApi = {
    '/v1/building/get-list': <T extends Record<any, any> = {}>(
        config: IConfig<
            Omit<T, 'params'>,
            {
                params: IApi['/v1/building/get-list']['Query'];
            }
            >,
    ): Promise<IApi['/v1/building/get-list']['Response']> => {
        const { params, ...otherConfig } = config;

        return request({
            method: 'GET',
            url: '/v1/building/get-list',
            params: params,

            ...otherConfig,
        });
    },
    '/v1/card/delete': <T extends Record<any, any> = {}>(
        config: IConfig<
            Omit<T, 'data'>,
            {
                data: IApi['/v1/card/delete']['Body'];
            }
            >,
    ): Promise<IApi['/v1/card/delete']['Response']> => {
        const { data, ...otherConfig } = config;

        return request({
            method: 'POST',
            url: '/v1/card/delete',

            data: data,
            ...otherConfig,
        });
    },
};
```
- 使用方法
```ts
import requestApi from './schema-api/request-api.ts';

requestApi['/v1/building/get-list']({params:{activityId:1}}).then((res)=>{
    console.log(res);
});

```
